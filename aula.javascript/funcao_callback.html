<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Função Callback</title>

    <script>
        /*
        =========================================================
        FUNÇÕES CALLBACK EM JAVASCRIPT
        =========================================================
        Callback é uma função passada como PARÂMETRO
        para outra função, para ser executada posteriormente.
        Muito comum em:
        - Requisições HTTP
        - Eventos
        - Operações assíncronas
        */

        /*
        ---------------------------------------------------------
        FUNÇÃO PRINCIPAL
        ---------------------------------------------------------
        Esta função simula a recuperação de um artigo
        (ex: via requisição HTTP).
        */

        function exibirArtigo(id, callbackSucesso, callbackErro) {

            // Aqui normalmente existiria uma lógica assíncrona
            // como uma requisição AJAX / fetch / axios

            // Simulação de sucesso na requisição
            if (true) {

                // Executa a função callback de sucesso
                callbackSucesso(
                    'Funções de Callback em JavaScript',
                    'Funções de callback são muito utilizadas para ' +
                    'controlar fluxos assíncronos e tratar resultados.'
                );

            } else {

                // Executa a função callback de erro
                callbackErro('Erro ao recuperar os dados');
            }
        }

        /*
        ---------------------------------------------------------
        CALLBACK DE SUCESSO
        ---------------------------------------------------------
        Esta função será chamada quando a operação
        for bem-sucedida.
        */

        var callbackSucesso = function (titulo, descricao) {
            document.write('<h1>' + titulo + '</h1>');
            document.write('<hr />');
            document.write('<p>' + descricao + '</p>');
        };

        /*
        ---------------------------------------------------------
        CALLBACK DE ERRO
        ---------------------------------------------------------
        Esta função será chamada quando ocorrer
        algum problema na operação.
        */

        var callbackErro = function (erro) {
            document.write('<p><b>Erro:</b> ' + erro + '</p>');
        };

        /*
        ---------------------------------------------------------
        EXECUÇÃO
        ---------------------------------------------------------
        Passamos as funções como parâmetros,
        sem executá-las (sem parênteses).
        */

        exibirArtigo(1, callbackSucesso, callbackErro);
    </script>
</head>

<body>
</body>

</html>
